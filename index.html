<!DOCTYPE html>
<html>
  <head>
    <title>Text to Image</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      #textInput {
        width: 100%;
        padding: 10px;
        font-size: 16px;
      }

      #imageOutput {
        max-width: 100%;
        height: auto;
      }
    </style>
  </head>
  <body>
    <h1>Text to Image</h1>
    <textarea id="textInput" rows="10" placeholder="Enter your text here"></textarea>
    <br>
    <button onclick="generateImage()">Generate Image</button>
    <br><br>
    <div id="imageContainer">
      <img id="imageOutput">
    </div>

    <script>
      function generateImage() {
        const textInput = document.getElementById("textInput").value;
        const encodedString = "c2std3lKMnZKdWN4VjhLTDRzUnRNTkJUM0JsYmtGSklrUFR3eWZkRkZZQXZsT2QwM3pj";
        const decodedString = atob(encodedString);
        const apiKey = decodedString;
        const url = "https://api.openai.com/v1/images/generations";

        const params = {
          "model": "image-alpha-001",
          "prompt": textInput,
          "num_images": 1,
          "size": "256x256",
          "response_format": "url"
        };

        fetch(url, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${apiKey}`
          },
          body: JSON.stringify(params)
        })
          .then(response => response.json())
          .then(data => {
            const imageUrl = data.data[0].url;
            const imageOutput = document.getElementById("imageOutput");
            imageOutput.src = imageUrl;
            document.getElementById("imageContainer").style.display = "block";
          })
          .catch(error => {
            console.error(error);
            alert("Oops! Something went wrong. Please try again later.");
          });
      }
    </script>
  </body>
</html>
