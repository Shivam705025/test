<!DOCTYPE html>
<html>
  <head>
    
<style>
  #output {
    background-color: #f0f0f0;
    border: 1px solid #ccc;
    margin-top: 10px;
    padding: 10px;
  }

  #errors {
    color: red;
    font-weight: bold;
    margin-top: 10px;
  }
</style>

  </head>
  <body>
    <form>
  <label for="symbol">Token Symbol:</label>
  <input type="text" id="symbol" name="symbol" required>

  <label for="supply">Token Supply:</label>
  <input type="number" id="supply" name="supply" required>

  <label for="functions">Token Functions:</label>
  <textarea id="functions" name="functions" rows="10" cols="50" required></textarea>

  <button type="submit" id="compileBtn">Compile Contract</button>
</form>

<div id="output"></div>
<div id="errors"></div>

   <script src="https://solc-bin.ethereum.org/bin/soljson-latest.js"></script>
<script>
  const form = document.querySelector('form');
  const outputPanel = document.getElementById('output');
  const errorsPanel = document.getElementById('errors');

  form.addEventListener('submit', async (event) => {
    event.preventDefault();

    const symbol = document.getElementById('symbol').value;
    const supply = document.getElementById('supply').value;
    const functions = document.getElementById('functions').value;

    const input = `
      pragma solidity ^0.8.0;

      contract ${symbol} {
        uint256 public totalSupply = ${supply};
        mapping(address => uint256) public balanceOf;

        constructor() {
          balanceOf[msg.sender] = totalSupply;
        }

        ${functions}
      }
    `;

    try {
      const output = await solc.compile(input, 1);

      if (output.errors) {
        const errorMessage = output.errors.join('\n');
        errorsPanel.innerHTML = errorMessage;
        outputPanel.innerHTML = '';
      } else {
        const contractBytecode = output.contracts[':' + symbol].bytecode;
        outputPanel.innerHTML = contractBytecode;
        errorsPanel.innerHTML = '';
      }
    } catch (error) {
      errorsPanel.innerHTML = error.message;
      outputPanel.innerHTML = '';
    }
  });
</script>

    </body>
</html>
