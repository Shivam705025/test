<!DOCTYPE html>
<html>
   <head>
      <title>Text to Image Converter</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
         body {
         font-family: Arial, sans-serif;
         margin: 0;
         padding: 0;
         }
         .container {
         display: flex;
         flex-direction: column;
         align-items: center;
         justify-content: center;
         height: 100vh;
         }
         h1, h2 {
         text-align: center;
         }
         form {
         display: flex;
         flex-direction: column;
         align-items: center;
         justify-content: center;
         margin: 20px;
         }
         input {
         margin: 10px;
         padding: 10px;
         border: 1px solid #ddd;
         border-radius: 5px;
         width: 400px;
         max-width: 100%;
         }
         button {
         background-color: #4CAF50;
         color: white;
         padding: 10px;
         border: none;
         border-radius: 5px;
         cursor: pointer;
         transition: background-color 0.3s ease;
         }
         button:hover {
         background-color: #3e8e41;
         }
         img {
         max-width: 100%;
         margin: 20px;
         border: 1px solid #ddd;
         border-radius: 5px;
         }
      </style>
   </head>
   <body>
      <div class="container">
         <h1>Text to Image Converter</h1>
         <form>
            <label for="textInput">Enter text:</label>
            <input type="text" id="textInput" required>
            <button type="button" id="convertButton">Convert to Image</button>
         </form>
         <div id="resultContainer">
            <h2 id="errorText"></h2>
            <img id="resultImage" src="">
         </div>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"></script>
      <script>
         const USERNAME = "skod333"; // replace with your Imgflip username
         const PASSWORD = "skod12345678"; // replace with your Imgflip password
         const form = document.querySelector("form");
         const input = document.getElementById("textInput");
         const convertButton = document.getElementById("convertButton");
         const errorText = document.getElementById("errorText");
         const resultImage = document.getElementById("resultImage");
         
         // add event listener for button click
         convertButton.addEventListener("click", () => {
         
         // get the user's text input
         const text = input.value.trim();
         
         // check if text input is empty
         if (!text) {
           errorText.textContent = "Please enter some text.";
           return;
         }
         
         // disable the convert button and show loading message
         convertButton.disabled = true;
         convertButton.textContent = "Converting...";
         errorText.textContent = "";
         resultImage.style.display = "none";
         
         // send API request to Imgflip API
         axios({
  method: "POST",
  url: "https://api.imgflip.com/caption_image",
  headers: {
    "Content-Type": "application/x-www-form-urlencoded"
  },
  data: `template_id=61527&username=${USERNAME}&password=${PASSWORD}&text0=${text}&max_font_size=100`,
})
  .then((response) => {
    // enable the convert button
    convertButton.disabled = false;
    
    // check if the API request was successful
    if (response.data.success) {
      // set the image URL to the generated meme
      const imageUrl = response.data.data.url;
      resultImage.src = imageUrl;
      resultContainer.style.display = "block";
    } else {
      errorText.textContent = "Oops! Something went wrong. Please try again.";
    }
    
    // reset the form input
    input.value = "";
    convertButton.textContent = "Convert to Image";
  })
  .catch((error) => {
    console.log(error);
    errorText.textContent = "Oops! Something went wrong. Please try again.";
    convertButton.disabled = false;
    convertButton.textContent = "Convert to Image";
  });
